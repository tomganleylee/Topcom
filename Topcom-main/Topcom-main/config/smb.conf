[global]
   workgroup = WORKGROUP
   server string = Camera Bridge Server
   netbios name = camera-bridge
   security = user
   map to guest = never
   dns proxy = no

   # Performance optimizations
   socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=131072 SO_SNDBUF=131072
   read raw = yes
   write raw = yes
   max xmit = 65535
   dead time = 15
   getwd cache = yes

   # Logging
   log file = /var/log/samba/log.%m
   max log size = 1000
   logging = file
   log level = 2
   panic action = /usr/share/samba/panic-action %d

   # Disable printing
   load printers = no
   printing = bsd
   printcap name = /dev/null
   disable spoolss = yes

   # Character set
   unix charset = UTF-8
   dos charset = CP850

   # Security enhancements
   server min protocol = SMB2_10
   client min protocol = SMB2
   restrict anonymous = 2

   # Network interface binding (will be updated by setup script)
   interfaces = lo eth0 wlan0
   bind interfaces only = yes

[photos]
   comment = Camera Photos Share
   path = /srv/samba/camera-share
   browseable = yes
   guest ok = no
   read only = no
   create mask = 0664
   directory mask = 0775
   valid users = camera
   write list = camera
   force user = camera
   force group = camera

   # Performance for large files (photos/videos)
   strict allocate = yes
   allocation roundup size = 1048576

   # Prevent file locks that might interfere with sync
   locking = no
   strict locking = no
   oplocks = no
   level2 oplocks = no

   # Hide system files
   hide dot files = yes
   hide special files = yes
   hide unreadable = yes

   # File naming
   preserve case = yes
   short preserve case = yes
   case sensitive = no

   # Recycle bin (optional - can be disabled)
   vfs objects = recycle
   recycle:repository = .recycle
   recycle:keeptree = yes
   recycle:touch = yes
   recycle:versions = yes
   recycle:maxsize = 104857600
   recycle:exclude = *.tmp,*.log,*.cache
   recycle:exclude_dir = /tmp,/var/tmp,/var/cache